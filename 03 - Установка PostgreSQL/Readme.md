# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ —É—Ä–æ–∫—É ‚Ññ3 - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL 15 —á–µ—Ä–µ–∑ Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞ –∂–µ –≤–∏—Ä—Ç—É–∞–ª–∫–∞ —Å Ubuntu 24.04, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω PostgreSQL 16.9.
–í —Å–≤—è–∑–∏ —Å —ç—Ç–∏–º –¥–ª—è docker-–≤–µ—Ä—Å–∏–∏ PostgreSQL 15 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç 5433.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Engine

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: https://docs.docker.com/engine/install/ubuntu/

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL

1. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç yaml –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ Docker Compose;
2. –ù–∞ —Ö–æ—Å—Ç–æ–≤–æ–π –º–∞—à–∏–Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è */pgdata*, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω—É—Ç—Ä–∏ *compose.yaml*
3. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã PostgreSQL –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–µ—Ç–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é */pgdata* –ø–æ–º–µ—â—ë–Ω —Ñ–∞–π–ª *pg_hba.conf*, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **postgres** —Ä–∞–∑—Ä–µ—â—à–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ —Å–µ—Ç–∏: `host 	all		postgres	192.168.155.0/24	trust`
4. –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **postgres** –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ *compose.yaml* –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –†–∞–∑—É–º–µ–µ—Ç—Å—è, –≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ —Ç–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è.
5. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π: `sudo docker compose up -d`

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL –≤–Ω—É—Ç—Ä–∏ Docker –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –≤ –ë–î postgres –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Ç–∞–±–ª–∏—á–∫–∞:

`
CREATE TABLE products (
    product_no integer,
    name text,
    price numeric
);

INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', 9.99);
INSERT INTO products (name, price, product_no) VALUES ('Milk', 5.99, 2);
`

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—ã–ª —É–¥–∞–ª—ë–Ω: `sudo docker compose down`

–ö–æ–º–∞–Ω–¥–∞ `sudo docker ps -a` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–∏ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö, –Ω–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–∑–¥–∞–Ω –∑–∞–Ω–æ–≤–æ —Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥–æ–π: `sudo docker compose up -d`

–° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `SELECT * FROM products;` –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã products –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∑–∞–ø–∏—Å–∞–Ω—ã –≤ –Ω–µ–µ –≤–æ –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–ó–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞!

ü§©ü§©ü§©ü§©ü§©

